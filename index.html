<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=favicon.ico><title>web-console</title><link rel=stylesheet href=https://unpkg.com/mint-ui/lib/style.css><style>#app {
        height: 100%;
        overflow-y: scroll;
      }

      #app .mint-button {
        width: 100%;
        margin-bottom: 15px;
      }</style><link href=js/app.fc2f6b5a.js rel=preload as=script><link href=js/chunk-vendors.e7fafad1.js rel=preload as=script></head><body><script src=https://unpkg.com/vue/dist/vue.js></script><div id=app><h1>WebConsole</h1><div v-if=isDev><h2>Console Test</h2><mt-button type=primary @click="onClickPrint('log_level')">打印不同级别日志</mt-button><mt-button type=primary @click="onClickPrint('log_params')">打印多参数</mt-button><mt-button type=primary @click=$console.testFormat()>打印格式化</mt-button><mt-button type=primary @click=$console.testObject()>打印对象</mt-button><mt-button type=primary @click=$console.testException()>触发异常</mt-button><h2>Network Test</h2><mt-button type=primary @click=$network.testHTTPStatus()>测试 HTTP 状态码</mt-button><mt-button type=primary @click=$network.testRequestParams()>测试请求参数</mt-button><mt-button type=primary @click=$network.testResponseData()>测试响应数据</mt-button><mt-button type=primary @click="onClickAjax('xhr_get')">发起 GET 请求</mt-button><mt-button type=primary @click="onClickAjax('xhr_post')">发起 POST 请求</mt-button></div><div v-else><mt-button type=primary @click="onClickPrint('log')">普通日志(log)</mt-button><mt-button type=primary @click="onClickPrint('info')">信息日志(info)</mt-button><mt-button type=primary @click="onClickPrint('debug')">调试日志(debug)</mt-button><mt-button type=primary @click="onClickPrint('warn')">警告日志(warn)</mt-button><mt-button type=primary @click="onClickPrint('error')">报错日志(error)</mt-button><mt-button type=default @click="onClickPrint('log_params')">打印多参数</mt-button><mt-button type=default @click=$console.testObject()>打印对象</mt-button><mt-button type=default @click="onClickAjax('xhr_get')">发起 GET 请求</mt-button><mt-button type=default @click="onClickAjax('xhr_post')">发起 POST 请求</mt-button></div><mt-switch v-model=isDev>切换</mt-switch></div><script src=https://unpkg.com/mint-ui/lib/index.js></script><script src=./test_console.js></script><script src=./test_network.js></script><script>new Vue({
        el: "#app",
        data: function() {
          return {
            // isDev: false
            isDev: true
          };
        },
        computed: {
          $network () {
            return window.$network
          },
          $console () {
            return window.$console
          }
        },
        mounted: function() {
          this.launchWebConsole();
        },
        methods: {
          launchWebConsole: function() {
            var self = this;
            if (window.WebConsole) {
              // 测试 web-console 加载完毕前的日志输出
              console.error(new Error('hello'))

              window.webConsole = new window.WebConsole({
                activeTab: 'console',
                panelVisible: false,
                entryStyle: 'icon'
              });
              // 启动时自动运行测试用例
              // this.$console.testFormat()
              // this.$network.testHTTPStatus()
              // this.$network.testRequestParams()
              // this.$network.testResponseData()
              // this.$console.testIntervalLog()
            } else {
              setTimeout(function() {
                self.launchWebConsole();
              }, 200);
            }
          },
          onClickPrint: function(type) {
            var numInt = 1;
            var numFloat = 1.23;
            var str = "hello";
            var obj = {
              a: 1,
              b: 2,
              c: {
                d: 3
              }
            };
            var arr = [1, 2, [3, obj]];
            switch (type) {
              case "log":
                console.log("log");
                break;
              case "info":
                console.info("info");
                break;
              case "debug":
                console.debug("debug");
                break;
              case "warn":
                console.warn("warn");
                break;
              case "error":
                console.error("error");
                break;
              case "log_level":
                console.log("log");
                console.info("info");
                console.debug("debug");
                console.warn("warn");
                console.error("error");
                break;
              case "log_params":
                console.log("aa", 100, true, null, undefined, { a: "a" }, Symbol());
                break;
            }
          },
          onClickAjax(type) {
            var server = "http://localhost:8090";
            switch (type) {
              case "xhr_get":
                var xhr = new window.XMLHttpRequest();
                xhr.open("GET", server + "/get");
                xhr.onreadystatechange = function() {
                  console.log("readyState:", this.readyState);
                };
                xhr.send();

                ajax({
                  url: "http://mta.qq.com/h5/api/ctr_core_data"
                });
                // setTimeout(() => {
                //   xhr.onreadystatechange = function () {
                //     console.log('readyState:', this.readyState)
                //   }
                // })
                break;
              case "xhr_post":
                // var xhr = new window.XMLHttpRequest()
                // xhr.open('POST', server + '/post')
                // const data = {
                //   name: 'whincwu'
                // }
                // xhr.send(JSON.stringify(data))
                break;
            }
          }
        }
      });

      function ajax(options) {
        options = options || {};
        var url = options.url;
        var method = options.method || "GET";

        var xhr = new window.XMLHttpRequest();
        xhr.onreadystatechange = function() {
          console.log("readyState:", this.readyState);
        };
        xhr.open(method, url);
        xhr.send();
      }

      // 测试log格式化输出
      function testLogFormat(value, format) {
        console.log("console.log(%" + format + ", %s)", JSON.stringify(value));
        console.log(format, value);
      }</script><script src=https://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.0.0/vconsole.min.js></script><script>var vConsole = new VConsole();</script><script src=js/chunk-vendors.e7fafad1.js></script><script src=js/app.fc2f6b5a.js></script></body></html>